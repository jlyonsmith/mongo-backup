{"version":3,"sources":["../src/MongoBackupTool.js"],"names":["MongoBackupTool","constructor","log","run","argv","options","boolean","args","command","_","version","info","help"],"mappings":";;;;;;;AAAA;;;;AACA;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEO,MAAMA,eAAN,CAAsB;AAC3BC,cAAYC,GAAZ,EAAiB;AACf,SAAKA,GAAL,GAAWA,GAAX;AACD;;AAED,QAAMC,GAAN,CAAUC,IAAV,EAAgB;AACd,UAAMC,UAAU;AACdC,eAAS,CAAE,MAAF,EAAU,SAAV;AADK,KAAhB;AAGA,SAAKC,IAAL,GAAY,wBAAUH,IAAV,EAAgBC,OAAhB,CAAZ;;AAEA,UAAMG,UAAU,KAAKD,IAAL,CAAUE,CAAV,CAAY,CAAZ,CAAhB;;AAEA,QAAI,KAAKF,IAAL,CAAUG,OAAd,EAAuB;AACrB,WAAKR,GAAL,CAASS,IAAT,CAAe,GAAD,oBAAe,EAA7B;AACA,aAAO,CAAP;AACD;;AAED,QAAI,KAAKJ,IAAL,CAAUK,IAAV,IAAkB,CAACJ,OAAvB,EAAgC;AAC9B,WAAKN,GAAL,CAASS,IAAT,CAAe;;;;;;CAAf;AAOA,aAAO,CAAP;AACD;;AAED,WAAO,CAAP;AACD;AA9B0B;QAAhBX,e,GAAAA,e","file":"MongoBackupTool.js","sourcesContent":["import parseArgs from 'minimist'\nimport { fullVersion } from './version'\nimport util from 'util'\nimport path from 'path'\nimport process from 'process'\nimport temp from 'temp'\n\nexport class MongoBackupTool {\n  constructor(log) {\n    this.log = log\n  }\n\n  async run(argv) {\n    const options = {\n      boolean: [ 'help', 'version' ],\n    }\n    this.args = parseArgs(argv, options)\n\n    const command = this.args._[0]\n\n    if (this.args.version) {\n      this.log.info(`${fullVersion}`)\n      return 0\n    }\n\n    if (this.args.help || !command) {\n      this.log.info(`\nusage: mongo-backup [options]\n\noptions:\n  --help                        Shows this help.\n  --version                     Shows the tool version.\n`)\n      return 0\n    }\n\n    return 0\n  }\n}\n"]}